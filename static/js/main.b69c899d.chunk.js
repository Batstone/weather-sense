(this["webpackJsonpweather-tracker"]=this["webpackJsonpweather-tracker"]||[]).push([[0],[,,,,function(e,t,c){e.exports={"search-location":"Weather_search-location__38ixm","temp-buttons":"Weather_temp-buttons__39NhO",button:"Weather_button__14Uu6","button-active":"Weather_button-active__uMv7Z","section-header-container":"Weather_section-header-container__iGaen"}},function(e,t,c){e.exports={"search-header-container":"SearchForm_search-header-container__1bTwg",form:"SearchForm_form__2flSn","search-error":"SearchForm_search-error__15OeD","button-active":"SearchForm_button-active__2J5NB"}},function(e,t,c){e.exports={weather:"Forecast_weather__15q8o","li-container":"Forecast_li-container__qgUcm","weather-details":"Forecast_weather-details__3w4v8",temp:"Forecast_temp__AmYJI","weather-details-img":"Forecast_weather-details-img__tTV70","weather__details-time":"Forecast_weather__details-time__14cnH"}},,function(e,t,c){e.exports={backdrop:"LocationOptionsModal_backdrop__21LJM",modal:"LocationOptionsModal_modal__3rP9C","modal-button":"LocationOptionsModal_modal-button__3D_XS","location-options":"LocationOptionsModal_location-options__1UmXm","location-option":"LocationOptionsModal_location-option__3HBv0"}},function(e,t,c){e.exports={"current-weather":"CurrentWeather_current-weather__3EuyA","current-weather__container":"CurrentWeather_current-weather__container__39mne","current-weather__container-temp":"CurrentWeather_current-weather__container-temp__2YQkx","current-weather__container-img":"CurrentWeather_current-weather__container-img__3MOUb"}},,,,function(e,t,c){e.exports={"footer-container":"Footer_footer-container__KlMxr"}},,function(e,t,c){e.exports={"header-container":"Header_header-container__1MMlt"}},function(e,t,c){e.exports={button:"Button_button__1lSIG"}},,,,,function(e,t,c){},function(e,t,c){},,,,function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(10),o=c.n(r),s=(c(21),c(22),c(3)),i=c(7),l=c.n(i),j=c(0),d=function(){var e=Object(n.useState)(l()().format("D MMMM YYYY H:mm")),t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){setInterval((function(){return a(l()().format("D MMMM YYYY H:mm"))}),1e3)}),[c]),Object(j.jsx)("h3",{children:c})},u=c(15),h=c.n(u),b=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:h.a["header-container"],children:[Object(j.jsxs)("h1",{children:[Object(j.jsx)("span",{children:"W"}),"eather",Object(j.jsx)("span",{children:"S"}),"ense",Object(j.jsx)("span",{children:"."})]}),Object(j.jsx)(d,{})]})}),Object(j.jsx)("div",{className:"background-animation-1"})]})},O=a.a.createContext({userSearchText:"",error:"",locationOptions:[],selectedLocation:{},locationCoordinates:"",weather:{},setSearchText:function(e){},setLocation:function(e){}}),p=c(16),x=c.n(p),m=function(e){return Object(j.jsx)("button",{className:"".concat(x.a.button," ").concat(e.className),onClick:e.onClick,children:e.children})},_=function(e){return Object(j.jsx)("li",{className:e.className,onClick:e.onClick,children:e.location})},f=c(8),N=c.n(f),w=function(e){return Object(j.jsx)("div",{className:N.a.backdrop,onClick:e.onClose})},v=function(e){var t=Object(n.useContext)(O),c=function(c){t.setLocation(c),function(e){localStorage.setItem("location",JSON.stringify(e))}(c),e.onClose()};return Object(j.jsxs)("div",{className:N.a.modal,children:[Object(j.jsx)("div",{className:N.a["modal-button"],children:Object(j.jsx)(m,{onClick:function(){e.onClose()},children:"Close"})}),Object(j.jsx)("ul",{className:N.a["location-options"],children:t.locationOptions.map((function(e){return Object(j.jsx)(_,{className:N.a["location-option"],onClick:function(){return c(e)},location:e.formatted},Math.random())}))})]})},S=function(e){return Object(j.jsxs)(j.Fragment,{children:[o.a.createPortal(Object(j.jsx)(w,{onClose:e.onClose}),document.getElementById("backdrop-root")),";",o.a.createPortal(Object(j.jsx)(v,{onClose:e.onClose}),document.getElementById("modal-root")),";"]})},C=c(5),g=c.n(C),y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),i=o[0],l=o[1],d=Object(n.useState)(!1),u=Object(s.a)(d,2),h=u[0],b=u[1],p=Object(n.useState)(!0),x=Object(s.a)(p,2),_=x[0],f=x[1],N=Object(n.useContext)(O);Object(n.useEffect)((function(){if(localStorage.getItem("location")){var e=JSON.parse(localStorage.getItem("location"));N.setLocation(e),f(!1)}}),[]);var w=_?"".concat(g.a["button-active"]):"",v=_||!N.selectedLocation?Object(j.jsx)("div",{className:"search-container",children:Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:g.a.form,onSubmit:function(e){e.preventDefault(),l(!1),c.trim().length<=1?l("Please enter a location"):(b(!0),N.setSearchText(c),a(""))},children:[Object(j.jsx)("label",{htmlFor:"searchText",children:"Search for your location."}),Object(j.jsx)("input",{type:"text",name:"searchText",placeholder:"Enter a location",value:c,onChange:function(e){a(e.target.value)}}),i&&Object(j.jsx)("p",{className:g.a["search-error"],children:i}),!i&&N.errorText&&Object(j.jsx)("p",{className:g.a["search-error"],children:"No locations found. Please try searching again!"}),Object(j.jsx)(m,{children:"Search"})]})})}):"";return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:g.a.search,children:[Object(j.jsx)("div",{className:g.a["search-header-container"],children:Object(j.jsx)(m,{className:w,onClick:function(){f((function(e){return!e}))},icon:_,children:"Location Search"})}),_&&v]}),h&&0!==N.locationOptions.length&&Object(j.jsx)(S,{onClose:function(){b(!1),N.selectedLocation&&f(!1)}})]})},T=function(e){return Object(j.jsx)("div",{className:e.className,children:e.children})},E=c(9),L=c.n(E),k=function(e){return Object(j.jsx)(T,{className:L.a["current-weather"],children:Object(j.jsxs)("ul",{className:L.a["current-weather__container"],children:[Object(j.jsx)("li",{className:L.a["current-weather__container-img"],children:Object(j.jsx)("img",{src:e.icon})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("li",{className:L.a["current-weather__container-temp"],children:e.temp}),Object(j.jsxs)("li",{children:["Feels Like: ",e.tempFeelsLike]}),Object(j.jsx)("li",{className:L.a["current-weather__container-decription"],children:e.description}),Object(j.jsx)("li",{children:e.windDirection}),Object(j.jsxs)("li",{children:[e.windSpeed," MPH"]})]})]})})},F=c(6),I=c.n(F),M=function(e){var t=e.forecast,c=e.temp,n=e.wind,a=e.percipitation,r=t.length>10?t.slice(0,10):t;return Object(j.jsx)("div",{children:Object(j.jsx)("ul",{className:I.a.weather,children:r.map((function(t){var r="Hourly Forecast"===e.format?l.a.unix(t.dt).format("h A"):l.a.unix(t.dt).format("MMM DD"),o="Hourly Forecast"===e.format?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:I.a.temp,children:c(t.temp)}),Object(j.jsxs)("p",{children:["FL: ",c(t.feels_like)]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:["Max: ",c(t.temp.max)]}),Object(j.jsxs)("p",{children:["Min: ",c(t.temp.min)]})]});return Object(j.jsx)(T,{className:I.a["li-container"],children:Object(j.jsxs)("li",{className:I.a["weather-details"],children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:r}),Object(j.jsx)("div",{children:o})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:I.a["weather-details-img"],children:Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png")})}),Object(j.jsx)("p",{className:I.a.description,children:t.weather[0].description})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fas fa-tint"}),Object(j.jsxs)("p",{children:[a(t.pop),"%"]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:n(t.wind_deg)}),Object(j.jsx)("p",{children:t.wind_speed}),Object(j.jsx)("p",{children:"MPH"})]})]})]})},t.dt)}))})})},W=c(4),D=c.n(W),H=function(e){var t=Object(n.useState)("F"),c=Object(s.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)("Hourly"),i=Object(s.a)(o,2),l=i[0],d=i[1],u=Object(n.useContext)(O),h=u.weather,b=h.current,p=h.daily,x=h.hourly,_=u.selectedLocation,f="http://openweathermap.org/img/wn/".concat(b.weather[0].icon,"@2x.png"),N=function(){d("Hourly"===l?"Daily":"Hourly")},w=function(e){return"F"!==a?(e-273.15).toFixed(0).toString()+" \u2103":(1.8*(e-273.15)+32).toFixed(0).toString()+" \u2109"},v=function(e,t){e.preventDefault(),r(t)},S=function(e){return parseInt(100*e)},C=function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(e/22.5+.5)%16]},g="F"===a?"".concat(D.a["button-active"]):"",y="C"===a?"".concat(D.a["button-active"]):"",T="Hourly"===l?"".concat(D.a.button," ").concat(D.a["button-active"]):"".concat(D.a.button),E="Daily"===l?"".concat(D.a.button," ").concat(D.a["button-active"]):"".concat(D.a.button);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:D.a["search-location"],children:Object(j.jsx)("h2",{children:_})}),Object(j.jsx)(k,{temp:w(b.temp),tempFeelsLike:w(b.feels_like),windSpeed:b.wind_speed,windDirection:C(b.wind_deg),description:b.weather[0].description,icon:f}),Object(j.jsxs)("div",{className:D.a["temp-buttons"],children:[Object(j.jsx)(m,{className:g,onClick:function(e){return v(e,"F")},children:"\u2109"}),Object(j.jsx)(m,{className:y,onClick:function(e){return v(e,"C")},children:"\xb0C"})]}),Object(j.jsxs)("div",{className:D.a["section-header-container"],children:[Object(j.jsx)(m,{className:T,onClick:N,children:"Hourly Forecast"}),Object(j.jsx)(m,{className:E,onClick:N,children:"Daily Forecast"})]}),"Hourly"===l&&Object(j.jsx)(M,{format:"Hourly Forecast",forecast:x,temp:w,wind:C,percipitation:S}),"Daily"===l&&Object(j.jsx)(M,{format:"Daily Forecast",forecast:p,temp:w,wind:C,percipitation:S})]})},R=function(){var e=Object(n.useContext)(O);return Object(j.jsxs)("div",{className:"wrapper main",children:[Object(j.jsx)(y,{}),0!==Object.keys(e.weather).length&&Object(j.jsx)(H,{})]})},A=c(13),P=c.n(A),Y=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:P.a["footer-container"],children:[Object(j.jsxs)("p",{className:P.a.footerp,children:[Object(j.jsx)("span",{children:"W"}),"eather",Object(j.jsx)("span",{children:"S"}),"ense \xa9 2020"]}),Object(j.jsxs)("p",{children:["Created by ",Object(j.jsx)("a",{href:"www.adambatstone.dev",target:"_blank",children:"Adam Batstone"})]})]})})})},B=c(11),U=c.n(B),J=c(14),X=c(2),q={userSearchText:"",error:"",locationOptions:[],selectedLocation:"",selectedLocationCoordinates:{},weather:{}},G=function(e,t){switch(t.type){case"USER_SEARCH_TEXT":return Object(X.a)(Object(X.a)({},e),{},{userSearchText:t.payload});case"ERROR_TEXT":return Object(X.a)(Object(X.a)({},e),{},{error:t.payload});case"LOCATION_OPTIONS":return Object(X.a)(Object(X.a)({},e),{},{userSearchText:"",locationOptions:t.payload});case"LOCATION_SELECTION":return Object(X.a)(Object(X.a)({},e),{},{locationOptions:[],selectedLocation:t.payload});case"LOCATION_SELECTION_COORDINATES":return Object(X.a)(Object(X.a)({},e),{},{selectedLocationCoordinates:t.payload});case"WEATHER_CONDITIONS":return Object(X.a)(Object(X.a)({},e),{},{weather:t.payload})}return e},K=function(e){var t=Object(n.useReducer)(G,q),c=Object(s.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){var e=a.userSearchText;if(""!==e.trim()){var t=function(){var t=Object(J.a)(U.a.mark((function t(){var c,n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"&key=").concat("04d384a1bafb46ecaeb07b4ab49c647c"));case 2:if(200!==(c=t.sent).status){t.next=14;break}return r({type:"ERROR_TEXT",payload:""}),t.next=7,c.json();case 7:if(0!==(n=t.sent).results.length){t.next=11;break}return r({type:"ERROR_TEXT",payload:"No Locations found! Please search for another location."}),t.abrupt("return");case 11:r({type:"LOCATION_OPTIONS",payload:n.results}),t.next=15;break;case 14:throw new Error("Unable to get location data");case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(e){console.log("error!",e)}))}}),[a.userSearchText]),Object(n.useEffect)((function(){var e=a.selectedLocationCoordinates;if(0!==Object.keys(e).length){var t=function(){var t=Object(J.a)(U.a.mark((function t(){var c,n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.lat,"&lon=").concat(e.lng,"&exclude={part}&appid=").concat("b259026e161c31f0587ed82e488b63f5"));case 2:if(200!==(c=t.sent).status){t.next=10;break}return t.next=6,c.json();case 6:n=t.sent,r({type:"WEATHER_CONDITIONS",payload:n}),t.next=11;break;case 10:throw new Error("Unable to fetch location data");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(e){console.log("error!",e)}))}}),[a.selectedLocation,a.locationCoordinates]);var o={userSearchText:a.userSearchText,errorText:a.error,setSearchText:function(e){r({type:"USER_SEARCH_TEXT",payload:e})},locationOptions:a.locationOptions,selectedLocation:a.selectedLocation,selectedlocationCoordinates:a.selectedlocationCoordinates,setLocation:function(e){r({type:"LOCATION_SELECTION",payload:e.formatted}),r({type:"LOCATION_SELECTION_COORDINATES",payload:e.geometry})},weather:a.weather};return Object(j.jsx)(O.Provider,{value:o,children:e.children})},Q=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(K,{className:"main-container",children:[Object(j.jsx)(b,{}),Object(j.jsx)(R,{}),Object(j.jsx)(Y,{})]})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root")),V()}],[[26,1,2]]]);
//# sourceMappingURL=main.b69c899d.chunk.js.map