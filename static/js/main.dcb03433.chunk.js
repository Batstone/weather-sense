(this["webpackJsonpweather-tracker"]=this["webpackJsonpweather-tracker"]||[]).push([[0],[,,,function(e,t,n){e.exports={"search-location":"Weather_search-location__38ixm","temp-buttons":"Weather_temp-buttons__39NhO",button:"Weather_button__14Uu6","button-active":"Weather_button-active__uMv7Z","section-header-container":"Weather_section-header-container__iGaen"}},,function(e,t,n){e.exports={weather:"Forecast_weather__15q8o","li-container":"Forecast_li-container__qgUcm","weather-details":"Forecast_weather-details__3w4v8",temp:"Forecast_temp__AmYJI","weather-details-img":"Forecast_weather-details-img__tTV70","weather__details-time":"Forecast_weather__details-time__14cnH"}},,function(e,t,n){e.exports={backdrop:"LocationOptionsModal_backdrop__21LJM",modal:"LocationOptionsModal_modal__3rP9C","modal-button":"LocationOptionsModal_modal-button__3D_XS","location-options":"LocationOptionsModal_location-options__1UmXm","location-option":"LocationOptionsModal_location-option__3HBv0"}},function(e,t,n){e.exports={"current-weather":"CurrentWeather_current-weather__3EuyA","current-weather__container":"CurrentWeather_current-weather__container__39mne","current-weather__container-temp":"CurrentWeather_current-weather__container-temp__2YQkx","current-weather__container-img":"CurrentWeather_current-weather__container-img__3MOUb"}},,function(e,t,n){e.exports={form:"SearchForm_form__2flSn","search-error":"SearchForm_search-error__15OeD","button-active":"SearchForm_button-active__2J5NB"}},,,function(e,t,n){e.exports={"footer-container":"Footer_footer-container__KlMxr"}},,function(e,t,n){e.exports={"header-container":"Header_header-container__1MMlt"}},function(e,t,n){e.exports={button:"Button_button__1lSIG"}},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(9),o=n.n(r),s=(n(21),n(22),n(4)),i=n(6),l=n.n(i),j=n(0),d=function(){var e=Object(c.useState)(l()().format("D MMMM YYYY H:mm")),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){setInterval((function(){return a(l()().format("D MMMM YYYY H:mm"))}),1e3)}),[n]),Object(j.jsx)("h3",{children:n})},u=n(15),h=n.n(u),b=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:h.a["header-container"],children:[Object(j.jsxs)("h1",{children:[Object(j.jsx)("span",{children:"W"}),"eather",Object(j.jsx)("span",{children:"S"}),"ense",Object(j.jsx)("span",{children:"."})]}),Object(j.jsx)(d,{})]})}),Object(j.jsx)("div",{className:"background-animation-1"})]})},O=a.a.createContext({userSearchText:"",error:"",locationOptions:[],selectedLocation:{},locationCoordinates:"",weather:{},setSearchText:function(e){},setLocation:function(e){}}),p=n(16),m=n.n(p),x=function(e){return Object(j.jsx)("button",{className:"".concat(m.a.button," ").concat(e.className),onClick:e.onClick,children:e.children})},f=function(e){return Object(j.jsx)("li",{className:e.className,onClick:e.onClick,children:e.location})},_=n(7),N=n.n(_),w=function(e){return Object(j.jsx)("div",{className:N.a.backdrop,onClick:e.onClose})},v=function(e){var t=Object(c.useContext)(O),n=function(n){t.setLocation(n),function(e){localStorage.setItem("location",JSON.stringify(e))}(n),e.onClose()};return Object(j.jsxs)("div",{className:N.a.modal,children:[Object(j.jsx)("div",{className:N.a["modal-button"],children:Object(j.jsx)(x,{onClick:function(){e.onClose()},children:"Close"})}),Object(j.jsx)("ul",{className:N.a["location-options"],children:t.locationOptions.map((function(e){return Object(j.jsx)(f,{className:N.a["location-option"],onClick:function(){return n(e)},location:e.formatted},Math.random())}))})]})},g=function(e){return Object(j.jsxs)(j.Fragment,{children:[o.a.createPortal(Object(j.jsx)(w,{onClose:e.onClose}),document.getElementById("backdrop-root")),";",o.a.createPortal(Object(j.jsx)(v,{onClose:e.onClose}),document.getElementById("modal-root")),";"]})},S=n(10),C=n.n(S),y=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],l=o[1],d=Object(c.useState)(!1),u=Object(s.a)(d,2),h=u[0],b=u[1],p=Object(c.useContext)(O);Object(c.useEffect)((function(){if(localStorage.getItem("location")){var e=JSON.parse(localStorage.getItem("location"));p.setLocation(e)}}),[]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("section",{className:C.a.search,children:Object(j.jsx)("div",{className:"search-container",children:Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:C.a.form,onSubmit:function(e){e.preventDefault(),l(!1),n.trim().length<=1?l("Please enter a location"):(b(!0),p.setSearchText(n),a(""))},children:[Object(j.jsx)("label",{htmlFor:"searchText",children:"Search for your location."}),Object(j.jsx)("input",{type:"text",name:"searchText",placeholder:"Enter a location",value:n,onChange:function(e){a(e.target.value)}}),i&&Object(j.jsx)("p",{className:C.a["search-error"],children:i}),!i&&p.errorText&&Object(j.jsx)("p",{className:C.a["search-error"],children:"No locations found. Please try searching again!"}),Object(j.jsx)(x,{children:"Search"})]})})})}),h&&0!==p.locationOptions.length&&Object(j.jsx)(g,{onClose:function(){b(!1)}})]})},E=function(e){return Object(j.jsx)("div",{className:e.className,children:e.children})},T=n(8),L=n.n(T),k=function(e){var t=e.img,n=e.temp,c=e.tempFeelsLike,a=e.description,r=e.windDirection,o=e.windSpeed;return Object(j.jsx)(E,{className:L.a["current-weather"],children:Object(j.jsxs)("ul",{className:L.a["current-weather__container"],children:[Object(j.jsx)("li",{className:L.a["current-weather__container-img"],children:Object(j.jsx)("img",{src:t,alt:"Image of the current weather conditions"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("li",{className:L.a["current-weather__container-temp"],children:n}),Object(j.jsxs)("li",{children:["Feels Like: ",c]}),Object(j.jsx)("li",{className:L.a["current-weather__container-decription"],children:a}),Object(j.jsx)("li",{children:r}),Object(j.jsxs)("li",{children:[o," MPH"]})]})]})})},F=n(5),I=n.n(F),M=function(e){var t=e.forecast,n=e.temp,c=e.wind,a=e.percipitation,r=t.length>10?t.slice(0,10):t;return Object(j.jsx)("div",{children:Object(j.jsx)("ul",{className:I.a.weather,children:r.map((function(t){var r="Hourly Forecast"===e.format?l.a.unix(t.dt).format("h A"):l.a.unix(t.dt).format("MMM DD"),o="Hourly Forecast"===e.format?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:I.a.temp,children:n(t.temp)}),Object(j.jsxs)("p",{children:["FL: ",n(t.feels_like)]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{children:["Max: ",n(t.temp.max)]}),Object(j.jsxs)("p",{children:["Min: ",n(t.temp.min)]})]});return Object(j.jsx)(E,{className:I.a["li-container"],children:Object(j.jsxs)("li",{className:I.a["weather-details"],children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:r}),Object(j.jsx)("div",{children:o})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:I.a["weather-details-img"],children:Object(j.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),alt:"Image of the weather conditions"})}),Object(j.jsx)("p",{className:I.a.description,children:t.weather[0].description})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("i",{className:"fas fa-tint"}),Object(j.jsxs)("p",{children:[a(t.pop),"%"]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:c(t.wind_deg)}),Object(j.jsx)("p",{children:t.wind_speed}),Object(j.jsx)("p",{children:"MPH"})]})]})]})},t.dt)}))})})},W=n(3),D=n.n(W),H=function(){var e=Object(c.useState)("F"),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)("Hourly"),o=Object(s.a)(r,2),i=o[0],l=o[1],d=Object(c.useContext)(O),u=d.weather,h=u.current,b=u.daily,p=u.hourly,m=d.selectedLocation,f="http://openweathermap.org/img/wn/".concat(h.weather[0].icon,"@2x.png"),_=function(){l("Hourly"===i?"Daily":"Hourly")},N=function(e){return"F"!==n?(e-273.15).toFixed(0).toString()+" \u2103":(1.8*(e-273.15)+32).toFixed(0).toString()+" \u2109"},w=function(e,t){e.preventDefault(),a(t)},v=function(e){return parseInt(100*e)},g=function(e){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.floor(e/22.5+.5)%16]},S="F"===n?"".concat(D.a["button-active"]):"",C="C"===n?"".concat(D.a["button-active"]):"",y="Hourly"===i?"".concat(D.a.button," ").concat(D.a["button-active"]):"".concat(D.a.button),E="Daily"===i?"".concat(D.a.button," ").concat(D.a["button-active"]):"".concat(D.a.button);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:D.a["search-location"],children:Object(j.jsx)("h2",{children:m})}),Object(j.jsx)(k,{temp:N(h.temp),tempFeelsLike:N(h.feels_like),windSpeed:h.wind_speed,windDirection:g(h.wind_deg),description:h.weather[0].description,img:f}),Object(j.jsxs)("div",{className:D.a["temp-buttons"],children:[Object(j.jsx)(x,{className:S,onClick:function(e){return w(e,"F")},children:"\u2109"}),Object(j.jsx)(x,{className:C,onClick:function(e){return w(e,"C")},children:"\xb0C"})]}),Object(j.jsxs)("div",{className:D.a["section-header-container"],children:[Object(j.jsx)(x,{className:y,onClick:_,children:"Hourly Forecast"}),Object(j.jsx)(x,{className:E,onClick:_,children:"Daily Forecast"})]}),"Hourly"===i&&Object(j.jsx)(M,{format:"Hourly Forecast",forecast:p,temp:N,wind:g,percipitation:v}),"Daily"===i&&Object(j.jsx)(M,{format:"Daily Forecast",forecast:b,temp:N,wind:g,percipitation:v})]})},R=function(){var e=Object(c.useContext)(O);return Object(j.jsxs)("div",{className:"wrapper main",children:[Object(j.jsx)(y,{}),0!==Object.keys(e.weather).length&&Object(j.jsx)(H,{})]})},A=n(13),P=n.n(A),Y=function(){return Object(j.jsx)("footer",{children:Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsxs)("div",{className:P.a["footer-container"],children:[Object(j.jsxs)("p",{className:P.a.footerp,children:[Object(j.jsx)("span",{children:"W"}),"eather",Object(j.jsx)("span",{children:"S"}),"ense \xa9 2020"]}),Object(j.jsxs)("p",{children:["Created by ",Object(j.jsx)("a",{href:"www.adambatstone.dev",target:"_blank",children:"Adam Batstone"})]})]})})})},B=n(11),U=n.n(B),J=n(14),X=n(2),q={userSearchText:"",error:"",locationOptions:[],selectedLocation:"",selectedLocationCoordinates:{},weather:{}},G=function(e,t){switch(t.type){case"USER_SEARCH_TEXT":return Object(X.a)(Object(X.a)({},e),{},{userSearchText:t.payload});case"ERROR_TEXT":return Object(X.a)(Object(X.a)({},e),{},{error:t.payload});case"LOCATION_OPTIONS":return Object(X.a)(Object(X.a)({},e),{},{userSearchText:"",locationOptions:t.payload});case"LOCATION_SELECTION":return Object(X.a)(Object(X.a)({},e),{},{locationOptions:[],selectedLocation:t.payload});case"LOCATION_SELECTION_COORDINATES":return Object(X.a)(Object(X.a)({},e),{},{selectedLocationCoordinates:t.payload});case"WEATHER_CONDITIONS":return Object(X.a)(Object(X.a)({},e),{},{weather:t.payload});default:return e}},K=function(e){var t=Object(c.useReducer)(G,q),n=Object(s.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){var e=a.userSearchText;if(""!==e.trim()){var t=function(){var t=Object(J.a)(U.a.mark((function t(){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.opencagedata.com/geocode/v1/json?q=".concat(e,"&key=").concat("04d384a1bafb46ecaeb07b4ab49c647c"));case 2:if(200!==(n=t.sent).status){t.next=14;break}return r({type:"ERROR_TEXT",payload:""}),t.next=7,n.json();case 7:if(0!==(c=t.sent).results.length){t.next=11;break}return r({type:"ERROR_TEXT",payload:"No Locations found! Please search for another location."}),t.abrupt("return");case 11:r({type:"LOCATION_OPTIONS",payload:c.results}),t.next=15;break;case 14:throw new Error("Unable to get location data");case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(e){console.log("error!",e)}))}}),[a.userSearchText]),Object(c.useEffect)((function(){var e=a.selectedLocationCoordinates;if(0!==Object.keys(e).length){var t=function(){var t=Object(J.a)(U.a.mark((function t(){var n,c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.lat,"&lon=").concat(e.lng,"&exclude={part}&appid=").concat("b259026e161c31f0587ed82e488b63f5"));case 2:if(200!==(n=t.sent).status){t.next=10;break}return t.next=6,n.json();case 6:c=t.sent,r({type:"WEATHER_CONDITIONS",payload:c}),t.next=11;break;case 10:throw new Error("Unable to fetch location data");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t().catch((function(e){console.log("error!",e)}))}}),[a.selectedLocation,a.selectedLocationCoordinates]);var o={userSearchText:a.userSearchText,errorText:a.error,setSearchText:function(e){r({type:"USER_SEARCH_TEXT",payload:e})},locationOptions:a.locationOptions,selectedLocation:a.selectedLocation,selectedlocationCoordinates:a.selectedlocationCoordinates,setLocation:function(e){r({type:"LOCATION_SELECTION",payload:e.formatted}),r({type:"LOCATION_SELECTION_COORDINATES",payload:e.geometry})},weather:a.weather};return Object(j.jsx)(O.Provider,{value:o,children:e.children})},Q=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(K,{className:"main-container",children:[Object(j.jsx)(b,{}),Object(j.jsx)(R,{}),Object(j.jsx)(Y,{})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root")),V()}],[[26,1,2]]]);
//# sourceMappingURL=main.dcb03433.chunk.js.map